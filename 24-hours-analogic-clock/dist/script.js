(function() {
  var Clock, clock;

  Clock = (function() {
    var Colors, HandProps, Palette;

    class Clock {
      constructor(params) {
        this.color = Colors.element;
        this.color_second = Colors.second;
        this.h_size = 22;
        this.m_size = 11;
        this.effect_width = 2;
        this.hand_props_hour = HandProps.hour24;
        this.palette = 'brightlava';
        if (params === void 0) {
          params = {};
        }
        if (params.color !== void 0) {
          this.color = params.color;
        }
        if (params.color_second !== void 0) {
          this.color_second = params.color_second;
        }
        if (params.canvas !== void 0) {
          this.canvas = params.canvas;
        }
        if (params.parent !== void 0 && this.canvas === void 0) {
          this.parent = params.parent;
        }
        if (params.width !== void 0) {
          this.width = params.width;
        }
        if (params.height !== void 0) {
          this.height = params.height;
        }
        if (params.h_size !== void 0) {
          this.h_size = params.h_size;
        }
        if (params.m_size !== void 0) {
          this.m_size = params.m_size;
        }
        if (params.effect_width !== void 0) {
          this.effect_width = params.effect_width;
        }
        if (params.use_12 !== void 0) {
          if (params.use_12) {
            this.hand_props_hour = HandProps.hour12;
          }
        }
        if (params.palette !== void 0) {
          this.palette = params.palette;
        }
        if (params.events !== void 0) {
          this.events = params.events;
        }
        if (this.width === void 0) {
          if (this.canvas === void 0) {
            this.width = 500;
          } else {
            this.width = this.canvas.width;
          }
        }
        if (this.height === void 0) {
          if (this.canvas === void 0) {
            this.height = 500;
          } else {
            this.height = this.canvas.height;
          }
        }
        if (this.canvas !== void 0) {
          if (this.parent === void 0) {
            this.parent = this.canvas.parentElement;
          }
        }
        if (this.canvas === void 0) {
          if (this.parent === void 0) {
            this.parent = document.body;
          }
          this.canvas = document.createElement('canvas');
          this.parent.appendChild(this.canvas);
        }
        this.canvas.width = this.width;
        this.canvas.height = this.height;
        //console.log([@canvas, @parent])
        //window.x = [@canvas, @parent]
        this.ctx = this.canvas.getContext('2d');
        this.ctx.textAlign = 'center';
        this.ctx.textBaseline = 'middle';
        this.clock_radius = Math.min(this.ctx.canvas.width, this.ctx.canvas.height) / 2;
        return;
      }

      clean() {
        // clear canvas function
        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);
        this.ctx.translate(this.ctx.canvas.width / 2, this.ctx.canvas.height / 2);
      }

      with_effect(color, code) {
        var i, index, j, ref, ref1;
        if (this.effect_width > 0) {
          for (index = i = 1, ref = this.effect_width; (1 <= ref ? i <= ref : i >= ref); index = 1 <= ref ? ++i : --i) {
            this.save();
            this.ctx.translate(0, index);
            this.ctx.fillStyle = Colors.shadow;
            this.ctx.globalAlpha = 0.5;
            code();
            this.restore();
          }
          for (index = j = 1, ref1 = this.effect_width; (1 <= ref1 ? j <= ref1 : j >= ref1); index = 1 <= ref1 ? ++j : --j) {
            this.save();
            this.ctx.translate(0, -index);
            this.ctx.fillStyle = Colors.light;
            this.ctx.globalAlpha = 0.5;
            code();
            this.restore();
          }
        }
        this.save();
        this.ctx.fillStyle = color;
        code();
        this.restore();
      }

      get_theta(value, hand_props) {
        return (value - hand_props.offset) * 2 * Math.PI / (hand_props.end - hand_props.begin + 1);
      }

      get_xy(length, theta) {
        return [this.clock_radius * length * Math.cos(theta), this.clock_radius * length * Math.sin(theta)];
      }

      iterate_on_hand(hand_props, code) {
        var i, ref, ref1, theta, value;
        for (value = i = ref = hand_props.begin, ref1 = hand_props.end; (ref <= ref1 ? i <= ref1 : i >= ref1); value = ref <= ref1 ? ++i : --i) {
          theta = this.get_theta(value, hand_props);
          code(value, hand_props, theta);
        }
      }

      draw_hand(value, hand_props, width, length, color) {
        var theta;
        theta = this.get_theta(value, hand_props);
        return this.with_effect(color, () => {
          this.ctx.rotate(theta);
          this.ctx.beginPath();
          this.ctx.moveTo(-15, -width);
          this.ctx.lineTo(-15, width);
          this.ctx.lineTo(this.clock_radius * length, 1);
          this.ctx.lineTo(this.clock_radius * length, -1);
          this.ctx.fill();
        });
      }

      draw_tick(value, theta, radius, length, color) {
        var x, y;
        [x, y] = this.get_xy(length, theta);
        return this.with_effect(color, () => {
          this.ctx.beginPath();
          this.ctx.arc(x, y, radius, 0, Math.PI * 2, true);
          this.ctx.closePath();
          this.ctx.fill();
        });
      }

      draw_text(value, theta, text_size, length, color) {
        var x, y;
        [x, y] = this.get_xy(length, theta);
        return this.with_effect(color, () => {
          this.ctx.font = text_size + 'px Sans-Serif';
          this.ctx.fillText(value, x, y);
        });
      }

      draw_arc(hour1, hour2, hand_props, length_min, length_max, color) {
        var radius_max, radius_min, theta1, theta2;
        theta1 = this.get_theta(hour1, hand_props);
        theta2 = this.get_theta(hour2, hand_props);
        radius_min = this.clock_radius * length_min;
        radius_max = this.clock_radius * length_max;
        return this.with_effect(color, () => {
          this.ctx.globalAlpha = 0.4;
          this.ctx.beginPath();
          this.ctx.arc(0, 0, radius_max, theta1, theta2, false);
          this.ctx.arc(0, 0, radius_min, theta2, theta1, true);
          this.ctx.closePath();
          this.ctx.fill();
        });
      }

      draw_event(event) {
        var hour_range, i, len, ref;
        ref = event.hour_ranges;
        for (i = 0, len = ref.length; i < len; i++) {
          hour_range = ref[i];
          this.draw_arc(hour_range[0], hour_range[1], this.hand_props_hour, 0.2 + 0.05 * event.level, 0.3 + 0.05 * event.level, Palette[this.palette][event.color_index]);
        }
      }

      draw_events(events) {
        var event, i, len;
        for (i = 0, len = events.length; i < len; i++) {
          event = events[i];
          this.draw_event(event);
        }
      }

      save() {
        this.ctx.save();
      }

      restore() {
        this.ctx.restore();
      }

      draw_scene() {
        var date, hours, minutes, numHour, numMinute, seconds;
        this.save();
        this.clean();
        date = new Date();
        hours = date.getHours();
        minutes = date.getMinutes();
        seconds = date.getSeconds();
        numMinute = minutes + seconds / 60;
        numHour = hours + numMinute / 60;
        this.iterate_on_hand(this.hand_props_hour, (value, hand_props, theta) => {
          this.draw_tick(value, theta, 1, 0.6, this.color);
          this.draw_text(value, theta, this.h_size, 0.68, this.color);
        });
        this.iterate_on_hand(HandProps.minute, (value, hand_props, theta) => {
          if (value % 5 === 0) {
            this.draw_text(value, theta, this.m_size, 0.89, this.color);
          } else {
            this.draw_tick(value, theta, 1, 0.89, this.color);
          }
        });
        if (this.events !== void 0) {
          this.draw_events(this.events);
        }
        this.draw_hand(numHour, this.hand_props_hour, 5, 0.5, this.color);
        this.draw_hand(numMinute, HandProps.minute, 4, 0.8, this.color);
        this.draw_hand(seconds, HandProps.second, 3, 0.9, this.color_second);
        this.restore();
      }

      start() {
        setInterval((() => {
          this.draw_scene();
        }), 1000);
      }

    };

    HandProps = {
      hour12: {
        begin: 1,
        end: 12,
        offset: 3
      },
      hour24: {
        begin: 0,
        end: 23,
        offset: 18
      },
      minute: {
        begin: 1,
        end: 60,
        offset: 15
      },
      second: {
        begin: 1,
        end: 60,
        offset: 15
      }
    };

    Colors = {
      light: '#fff',
      shadow: '#000',
      element: '#333',
      second: '#f00'
    };

    Palette = {
      brightlava: ['#300303', '#490a04', '#611405', '#792306', '#913608', '#aa4c09', '#c2660a', '#da840b', '#f2a60d', '#f4c025', '#f5d63d', '#f6e955', '#f7f76e'],
      sunset: ['#000066', '#150080', '#330099', '#5900b3', '#8800cc', '#bf00e6', '#ff00ff', '#ff1ad9', '#ff33bb', '#ff4da6', '#ff6699', '#ff8095', '#ff9999'],
      sunset2: ['#090317', '#1c0634', '#390950', '#5e0c6d', '#8a0f86', '#a61286', '#c3167e', '#e0196c', '#e8305b', '#eb4d55', '#ee7c6a', '#f2a887', '#f5cca3'],
      autumn: ['#001a00', '#063300', '#134d00', '#266600', '#408000', '#609900', '#86b300', '#b3cc00', '#e5e600', '#ffdf00', '#ffc61a', '#ffb333', '#ffa64d']
    };

    return Clock;

  }).call(this);

  // $(document).ready ->
  clock = new Clock({
    // canvas: $('#canvas')[0]
    // parent: $('.clocks')[0]
    color: '#333',
    effect_width: 1,
    use_12: false,
    width: 500,
    height: 500,
    h_size: 22,
    m_size: 11,
    palette: 'sunset2',
    // palette: 'brightlava'
    events: [
      {
        hour_ranges: [[8,
      12],
      [13,
      17]],
        level: 1,
        color_index: 3
      },
      {
        hour_ranges: [[11,
      12],
      [13,
      20]],
        level: 2,
        color_index: 6
      },
      {
        hour_ranges: [[22,
      5]],
        level: 3,
        color_index: 9
      },
      {
        hour_ranges: [[7.9,
      9]],
        level: 4,
        color_index: 12
      }
    ]
  });

  clock.start();

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLEtBQUEsRUFBQTs7RUFBTTs7O0lBQU4sTUFBQSxNQUFBO01BK0JJLFdBQWEsQ0FBQyxNQUFELENBQUE7UUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTLE1BQU0sQ0FBQztRQUNoQixJQUFDLENBQUEsWUFBRCxHQUFnQixNQUFNLENBQUM7UUFDdkIsSUFBQyxDQUFBLE1BQUQsR0FBVTtRQUNWLElBQUMsQ0FBQSxNQUFELEdBQVU7UUFDVixJQUFDLENBQUEsWUFBRCxHQUFnQjtRQUNoQixJQUFDLENBQUEsZUFBRCxHQUFtQixTQUFTLENBQUM7UUFDN0IsSUFBQyxDQUFBLE9BQUQsR0FBVztRQUNYLElBQUcsTUFBQSxLQUFVLE1BQWI7VUFDSSxNQUFBLEdBQVMsQ0FBQSxFQURiOztRQUVBLElBQUcsTUFBTSxDQUFDLEtBQVAsS0FBZ0IsTUFBbkI7VUFDSSxJQUFDLENBQUEsS0FBRCxHQUFTLE1BQU0sQ0FBQyxNQURwQjs7UUFFQSxJQUFHLE1BQU0sQ0FBQyxZQUFQLEtBQXVCLE1BQTFCO1VBQ0ksSUFBQyxDQUFBLFlBQUQsR0FBZ0IsTUFBTSxDQUFDLGFBRDNCOztRQUVBLElBQUcsTUFBTSxDQUFDLE1BQVAsS0FBaUIsTUFBcEI7VUFDSSxJQUFDLENBQUEsTUFBRCxHQUFVLE1BQU0sQ0FBQyxPQURyQjs7UUFFQSxJQUFHLE1BQU0sQ0FBQyxNQUFQLEtBQWlCLE1BQWpCLElBQStCLElBQUMsQ0FBQSxNQUFELEtBQVcsTUFBN0M7VUFDSSxJQUFDLENBQUEsTUFBRCxHQUFVLE1BQU0sQ0FBQyxPQURyQjs7UUFFQSxJQUFHLE1BQU0sQ0FBQyxLQUFQLEtBQWdCLE1BQW5CO1VBQ0ksSUFBQyxDQUFBLEtBQUQsR0FBUyxNQUFNLENBQUMsTUFEcEI7O1FBRUEsSUFBRyxNQUFNLENBQUMsTUFBUCxLQUFpQixNQUFwQjtVQUNJLElBQUMs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QUFLLENBQUwsQ0FBRCxDQURoQjtRQUVJLEtBQUEsRUFBTyxDQUZYO1FBR0ksV0FBQSxFQUFhO01BSGpCLENBWEk7TUFnQko7UUFDSSxXQUFBLEVBQVksQ0FBQyxDQUFDLEdBQUQ7TUFBTSxDQUFOLENBQUQsQ0FEaEI7UUFFSSxLQUFBLEVBQU8sQ0FGWDtRQUdJLFdBQUEsRUFBYTtNQUhqQixDQWhCSTs7RUFUUixDQUhBOztFQW1DUixLQUFLLENBQUMsS0FBTixDQUFBO0FBalJBIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2xvY2tcbiAgICBIYW5kUHJvcHMgPVxuICAgICAgICBob3VyMTI6XG4gICAgICAgICAgICBiZWdpbjogMVxuICAgICAgICAgICAgZW5kOiAxMlxuICAgICAgICAgICAgb2Zmc2V0OiAzXG4gICAgICAgIGhvdXIyNDpcbiAgICAgICAgICAgIGJlZ2luOiAwXG4gICAgICAgICAgICBlbmQ6IDIzXG4gICAgICAgICAgICBvZmZzZXQ6IDE4XG4gICAgICAgIG1pbnV0ZTpcbiAgICAgICAgICAgIGJlZ2luOiAxXG4gICAgICAgICAgICBlbmQ6IDYwXG4gICAgICAgICAgICBvZmZzZXQ6IDE1XG4gICAgICAgIHNlY29uZDpcbiAgICAgICAgICAgIGJlZ2luOiAxXG4gICAgICAgICAgICBlbmQ6IDYwXG4gICAgICAgICAgICBvZmZzZXQ6IDE1XG4gICAgXG4gICAgQ29sb3JzID1cbiAgICAgICAgbGlnaHQ6ICcjZmZmJ1xuICAgICAgICBzaGFkb3c6ICcjMDAwJ1xuICAgICAgICBlbGVtZW50OiAnIzMzMydcbiAgICAgICAgc2Vjb25kOiAnI2YwMCdcbiAgICAgICAgXG4gICAgUGFsZXR0ZSA9XG4gICAgICAgIGJyaWdodGxhdmE6IFsgJyMzMDAzMDMnLFx0JyM0OTBhMDQnLFx0JyM2MTE0MDUnLFx0JyM3OTIzMDYnLFx0JyM5MTM2MDgnLFx0JyNhYTRjMDknLFx0JyNjMjY2MGEnLFx0JyNkYTg0MGInLFx0JyNmMmE2MGQnLFx0JyNmNGMwMjUnLFx0JyNmNWQ2M2QnLFx0JyNmNmU5NTUnLFx0JyNmN2Y3NmUnLCBdXG4gICAgICAgIHN1bnNldDogWyAnIzAwMDA2NicsXHQnIzE1MDA4MCcsXHQnIzMzMDA5OScsXHQnIzU5MDBiMycsXHQnIzg4MDBjYycsXHQnI2JmMDBlNicsXHQnI2ZmMDBmZicsXHQnI2ZmMWFkOScsXHQnI2ZmMzNiYicsXHQnI2ZmNGRhNicsXHQnI2ZmNjY5OScsXHQnI2ZmODA5NScsXHQnI2ZmOTk5OScsIF1cbiAgICAgICAgc3Vuc2V0MjogWyAnIzA5MDMxNycsXHQnIzFjMDYzNCcsXHQnIzM5MDk1MCcsXHQnIzVlMGM2ZCcsXHQnIzhhMGY4NicsXHQnI2E2MTI4NicsXHQnI2MzMTY3ZScsXHQnI2UwMTk2YycsXHQnI2U4MzA1YicsXHQnI2ViNGQ1NScsXHQnI2VlN2M2YScsXHQnI2YyYTg4NycsXHQnI2Y1Y2NhMycsIF1cbiAgICAgICAgYXV0dW1uOiBbJyMwMDFhMDAnLFx0JyMwNjMzMDAnLFx0JyMxMzRkMDAnLFx0JyMyNjY2MDAnLFx0JyM0MDgwMDAnLFx0JyM2MDk5MDAnLFx0JyM4NmIzMDAnLFx0JyNiM2NjMDAnLFx0JyNlNWU2MDAnLFx0JyNmZmRmMDAnLFx0JyNmZmM2MWEnLFx0JyNmZmIzMzMnLFx0JyNmZmE2NGQnIF1cbiAgICAgICAgXG4gICAgY29uc3RydWN0b3I6IChwYXJhbXMpIC0+XG4gICAgICAgIEBjb2xvciA9IENvbG9ycy5lbGVtZW50XG4gICAgICAgIEBjb2xvcl9zZWNvbmQgPSBDb2xvcnMuc2Vjb25kXG4gICAgICAgIEBoX3NpemUgPSAyMlxuICAgICAgICBAbV9zaXplID0gMTFcbiAgICAgICAgQGVmZmVjdF93aWR0aCA9IDJcbiAgICAgICAgQGhhbmRfcHJvcHNfaG91ciA9IEhhbmRQcm9wcy5ob3VyMjRcbiAgICAgICAgQHBhbGV0dGUgPSAnYnJpZ2h0bGF2YSdcbiAgICAgICAgaWYgcGFyYW1zID09IHVuZGVmaW5lZFxuICAgICAgICAgICAgcGFyYW1zID0ge31cbiAgICAgICAgaWYgcGFyYW1zLmNvbG9yICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgQGNvbG9yID0gcGFyYW1zLmNvbG9yXG4gICAgICAgIGlmIHBhcmFtcy5jb2xvcl9zZWNvbmQgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBAY29sb3Jfc2Vjb25kID0gcGFyYW1zLmNvbG9yX3NlY29uZFxuICAgICAgICBpZiBwYXJhbXMuY2FudmFzICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgQGNhbnZhcyA9IHBhcmFtcy5jYW52YXNcbiAgICAgICAgaWYgcGFyYW1zLnBhcmVudCAhPSB1bmRlZmluZWQgYW5kIEBjYW52YXMgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBAcGFyZW50ID0gcGFyYW1zLnBhcmVudFxuICAgICAgICBpZiBwYXJhbXMud2lkdGggIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBAd2lkdGggPSBwYXJhbXMud2lkdGhcbiAgICAgICAgaWYgcGFyYW1zLmhlaWdodCAhPSB1bmRlZmluZWRcbiAgICAgICAgICAgIEBoZWlnaHQgPSBwYXJhbXMuaGVpZ2h0XG4gICAgICAgIGlmIHBhcmFtcy5oX3NpemUgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBAaF9zaXplID0gcGFyYW1zLmhfc2l6ZVxuICAgICAgICBpZiBwYXJhbXMubV9zaXplICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgQG1fc2l6ZSA9IHBhcmFtcy5tX3NpemVcbiAgICAgICAgaWYgcGFyYW1zLmVmZmVjdF93aWR0aCAhPSB1bmRlZmluZWRcbiAgICAgICAgICAgIEBlZmZlY3Rfd2lkdGggPSBwYXJhbXMuZWZmZWN0X3dpZHRoXG4gICAgICAgIGlmIHBhcmFtcy51c2VfMTIgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBpZiBwYXJhbXMudXNlXzEyXG4gICAgICAgICAgICAgICAgQGhhbmRfcHJvcHNfaG91ciA9IEhhbmRQcm9wcy5ob3VyMTJcbiAgICAgICAgaWYgcGFyYW1zLnBhbGV0dGUgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBAcGFsZXR0ZSA9IHBhcmFtcy5wYWxldHRlXG4gICAgICAgIGlmIHBhcmFtcy5ldmVudHMgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBAZXZlbnRzID0gcGFyYW1zLmV2ZW50c1xuICAgICAgICBpZiBAd2lkdGggPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBpZiBAY2FudmFzID09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIEB3aWR0aCA9IDUwMFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEB3aWR0aCA9IEBjYW52YXMud2lkdGhcbiAgICAgICAgaWYgQGhlaWdodCA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgIGlmIEBjYW52YXMgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgQGhlaWdodCA9IDUwMFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBoZWlnaHQgPSBAY2FudmFzLmhlaWdodFxuICAgICAgICBpZiBAY2FudmFzICE9IHVuZGVmaW5lZCBcbiAgICAgICAgICAgIGlmIEBwYXJlbnQgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgQHBhcmVudCA9IEBjYW52YXMucGFyZW50RWxlbWVudFxuICAgICAgICBpZiBAY2FudmFzID09IHVuZGVmaW5lZCBcbiAgICAgICAgICAgIGlmIEBwYXJlbnQgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgQHBhcmVudCA9IGRvY3VtZW50LmJvZHlcbiAgICAgICAgICAgIEBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICdjYW52YXMnXG4gICAgICAgICAgICBAcGFyZW50LmFwcGVuZENoaWxkIEBjYW52YXNcbiAgICAgICAgQGNhbnZhcy53aWR0aCA9IEB3aWR0aFxuICAgICAgICBAY2FudmFzLmhlaWdodCA9IEBoZWlnaHRcbiAgICAgICAgI2NvbnNvbGUubG9nKFtAY2FudmFzLCBAcGFyZW50XSlcbiAgICAgICAgI3dpbmRvdy54ID0gW0BjYW52YXMsIEBwYXJlbnRdXG4gICAgICAgIEBjdHggPSBAY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgQGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJ1xuICAgICAgICBAY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnXG4gICAgICAgIEBjbG9ja19yYWRpdXMgPSBNYXRoLm1pbihAY3R4LmNhbnZhcy53aWR0aCwgQGN0eC5jYW52YXMuaGVpZ2h0KSAvIDJcbiAgICAgICAgcmV0dXJuXG5cbiAgICBjbGVhbjogLT5cbiAgICAgICMgY2xlYXIgY2FudmFzIGZ1bmN0aW9uXG4gICAgICBAY3R4LmNsZWFyUmVjdCAwLCAwLCBAY3R4LmNhbnZhcy53aWR0aCwgQGN0eC5jYW52YXMuaGVpZ2h0XG4gICAgICBAY3R4LnRyYW5zbGF0ZSAoQGN0eC5jYW52YXMud2lkdGggLyAyKSwgKEBjdHguY2FudmFzLmhlaWdodCAvIDIpXG4gICAgICByZXR1cm5cblxuICAgIHdpdGhfZWZmZWN0OiAoY29sb3IsIGNvZGUpIC0+XG4gICAgICAgIGlmIEBlZmZlY3Rfd2lkdGg+MFxuICAgICAgICAgICAgZm9yIGluZGV4IGluIFsxLi5AZWZmZWN0X3dpZHRoXVxuICAgICAgICAgICAgICAgIEBzYXZlKClcbiAgICAgICAgICAgICAgICBAY3R4LnRyYW5zbGF0ZSAwLCBpbmRleFxuICAgICAgICAgICAgICAgIEBjdHguZmlsbFN0eWxlID0gQ29sb3JzLnNoYWRvd1xuICAgICAgICAgICAgICAgIEBjdHguZ2xvYmFsQWxwaGEgPSAwLjVcbiAgICAgICAgICAgICAgICBjb2RlKClcbiAgICAgICAgICAgICAgICBAcmVzdG9yZSgpXG4gICAgICAgIFxuICAgICAgICAgICAgZm9yIGluZGV4IGluIFsxLi5AZWZmZWN0X3dpZHRoXVxuICAgICAgICAgICAgICAgIEBzYXZlKClcbiAgICAgICAgICAgICAgICBAY3R4LnRyYW5zbGF0ZSAwLCAtaW5kZXhcbiAgICAgICAgICAgICAgICBAY3R4LmZpbGxTdHlsZSA9IENvbG9ycy5saWdodFxuICAgICAgICAgICAgICAgIEBjdHguZ2xvYmFsQWxwaGEgPSAwLjVcbiAgICAgICAgICAgICAgICBjb2RlKClcbiAgICAgICAgICAgICAgICBAcmVzdG9yZSgpXG4gICAgICAgIFxuICAgICAgICBAc2F2ZSgpXG4gICAgICAgIEBjdHguZmlsbFN0eWxlID0gY29sb3JcbiAgICAgICAgY29kZSgpXG4gICAgICAgIEByZXN0b3JlKClcbiAgICAgICAgcmV0dXJuXG4gICAgXG4gICAgZ2V0X3RoZXRhOiAodmFsdWUsIGhhbmRfcHJvcHMpIC0+XG4gICAgICAgIHJldHVybiAodmFsdWUgLSBoYW5kX3Byb3BzLm9mZnNldCkgKiAyICogTWF0aC5QSSAvIChoYW5kX3Byb3BzLmVuZCAtIGhhbmRfcHJvcHMuYmVnaW4gKyAxKVxuICAgIFxuICAgIGdldF94eTogKGxlbmd0aCwgdGhldGEpIC0+XG4gICAgICAgIHJldHVybiBbQGNsb2NrX3JhZGl1cyAqIGxlbmd0aCAqIE1hdGguY29zKHRoZXRhKSwgQGNsb2NrX3JhZGl1cyAqIGxlbmd0aCAqIE1hdGguc2luKHRoZXRhKV1cblxuICAgIGl0ZXJhdGVfb25faGFuZDogKGhhbmRfcHJvcHMsIGNvZGUpIC0+XG4gICAgICAgIGZvciB2YWx1ZSBpbiBbaGFuZF9wcm9wcy5iZWdpbi4uaGFuZF9wcm9wcy5lbmRdXG4gICAgICAgICAgICB0aGV0YSA9IEBnZXRfdGhldGEodmFsdWUsIGhhbmRfcHJvcHMpXG4gICAgICAgICAgICBjb2RlKHZhbHVlLCBoYW5kX3Byb3BzLCB0aGV0YSlcbiAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICBkcmF3X2hhbmQ6ICh2YWx1ZSwgaGFuZF9wcm9wcywgd2lkdGgsIGxlbmd0aCwgY29sb3IpIC0+XG4gICAgICAgIHRoZXRhID0gQGdldF90aGV0YSh2YWx1ZSwgaGFuZF9wcm9wcylcbiAgICAgICAgQHdpdGhfZWZmZWN0IGNvbG9yLCA9PlxuICAgICAgICAgICAgQGN0eC5yb3RhdGUgdGhldGFcbiAgICAgICAgICAgIEBjdHguYmVnaW5QYXRoKClcbiAgICAgICAgICAgIEBjdHgubW92ZVRvIC0xNSwgLXdpZHRoXG4gICAgICAgICAgICBAY3R4LmxpbmVUbyAtMTUsIHdpZHRoXG4gICAgICAgICAgICBAY3R4LmxpbmVUbyBAY2xvY2tfcmFkaXVzICogbGVuZ3RoLCAxXG4gICAgICAgICAgICBAY3R4LmxpbmVUbyBAY2xvY2tfcmFkaXVzICogbGVuZ3RoLCAtMVxuICAgICAgICAgICAgQGN0eC5maWxsKClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICBkcmF3X3RpY2s6ICh2YWx1ZSwgdGhldGEsIHJhZGl1cywgbGVuZ3RoLCBjb2xvcikgLT5cbiAgICAgICAgW3gsIHldID0gQGdldF94eShsZW5ndGgsIHRoZXRhKVxuICAgICAgICBAd2l0aF9lZmZlY3QgY29sb3IsID0+XG4gICAgICAgICAgICBAY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgICAgICBAY3R4LmFyYyB4LCB5LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlXG4gICAgICAgICAgICBAY3R4LmNsb3NlUGF0aCgpXG4gICAgICAgICAgICBAY3R4LmZpbGwoKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICBkcmF3X3RleHQ6ICh2YWx1ZSwgdGhldGEsIHRleHRfc2l6ZSwgbGVuZ3RoLCBjb2xvcikgLT5cbiAgICAgICAgW3gsIHldID0gQGdldF94eShsZW5ndGgsIHRoZXRhKVxuICAgICAgICBAd2l0aF9lZmZlY3QgY29sb3IsID0+XG4gICAgICAgICAgICBAY3R4LmZvbnQgPSB0ZXh0X3NpemUrJ3B4IFNhbnMtU2VyaWYnXG4gICAgICAgICAgICBAY3R4LmZpbGxUZXh0IHZhbHVlLCB4LCB5XG4gICAgICAgICAgICByZXR1cm5cblxuICAgIGRyYXdfYXJjOiAoaG91cjEsIGhvdXIyLCBoYW5kX3Byb3BzLCBsZW5ndGhfbWluLCBsZW5ndGhfbWF4LCBjb2xvcikgLT5cbiAgICAgICAgdGhldGExID0gQGdldF90aGV0YShob3VyMSwgaGFuZF9wcm9wcylcbiAgICAgICAgdGhldGEyID0gQGdldF90aGV0YShob3VyMiwgaGFuZF9wcm9wcylcbiAgICAgICAgcmFkaXVzX21pbiA9IEBjbG9ja19yYWRpdXMgKiBsZW5ndGhfbWluXG4gICAgICAgIHJhZGl1c19tYXggPSBAY2xvY2tfcmFkaXVzICogbGVuZ3RoX21heFxuICAgICAgICBAd2l0aF9lZmZlY3QgY29sb3IsID0+XG4gICAgICAgICAgICBAY3R4Lmdsb2JhbEFscGhhID0gMC40XG4gICAgICAgICAgICBAY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgICAgICBAY3R4LmFyYyAwLCAwLCByYWRpdXNfbWF4LCB0aGV0YTEsIHRoZXRhMiwgZmFsc2VcbiAgICAgICAgICAgIEBjdHguYXJjIDAsIDAsIHJhZGl1c19taW4sIHRoZXRhMiwgdGhldGExLCB0cnVlXG4gICAgICAgICAgICBAY3R4LmNsb3NlUGF0aCgpXG4gICAgICAgICAgICBAY3R4LmZpbGwoKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICBkcmF3X2V2ZW50OiAoZXZlbnQpIC0+XG4gICAgICAgIGZvciBob3VyX3JhbmdlIGluIGV2ZW50LmhvdXJfcmFuZ2VzXG4gICAgICAgICAgICBAZHJhd19hcmMgaG91cl9yYW5nZVswXSwgaG91cl9yYW5nZVsxXSwgQGhhbmRfcHJvcHNfaG91ciwgMC4yKzAuMDUqZXZlbnQubGV2ZWwsIDAuMyswLjA1KmV2ZW50LmxldmVsLCBQYWxldHRlW0BwYWxldHRlXVtldmVudC5jb2xvcl9pbmRleF1cbiAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICBkcmF3X2V2ZW50czogKGV2ZW50cykgLT5cbiAgICAgICAgZm9yIGV2ZW50IGluIGV2ZW50c1xuICAgICAgICAgICAgQGRyYXdfZXZlbnQgZXZlbnRcbiAgICAgICAgcmV0dXJuXG4gICAgICAgIFxuICAgIFxuICAgIHNhdmU6IC0+XG4gICAgICAgIEBjdHguc2F2ZSgpXG4gICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICByZXN0b3JlOiAtPlxuICAgICAgICBAY3R4LnJlc3RvcmUoKVxuICAgICAgICByZXR1cm5cbiAgICAgICAgXG4gICAgZHJhd19zY2VuZTogLT5cbiAgICAgICAgQHNhdmUoKVxuICAgICAgICBAY2xlYW4oKVxuICAgICAgICBkYXRlID0gbmV3IERhdGVcbiAgICAgICAgaG91cnMgPSBkYXRlLmdldEhvdXJzKClcbiAgICAgICAgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpXG4gICAgICAgIHNlY29uZHMgPSBkYXRlLmdldFNlY29uZHMoKVxuICAgICAgICBudW1NaW51dGUgPSBtaW51dGVzICsgc2Vjb25kcyAvIDYwXG4gICAgICAgIG51bUhvdXIgPSBob3VycyArIG51bU1pbnV0ZSAvIDYwXG5cbiAgICAgICAgQGl0ZXJhdGVfb25faGFuZCBAaGFuZF9wcm9wc19ob3VyLCAodmFsdWUsIGhhbmRfcHJvcHMsIHRoZXRhKSA9PlxuICAgICAgICAgICAgQGRyYXdfdGljayh2YWx1ZSwgdGhldGEsIDEsIDAuNiwgQGNvbG9yKVxuICAgICAgICAgICAgQGRyYXdfdGV4dCh2YWx1ZSwgdGhldGEsIEBoX3NpemUsIDAuNjgsIEBjb2xvcilcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGl0ZXJhdGVfb25faGFuZCBIYW5kUHJvcHMubWludXRlLCAodmFsdWUsIGhhbmRfcHJvcHMsIHRoZXRhKSA9PlxuICAgICAgICAgICAgaWYgdmFsdWUgJSA1ID09IDBcbiAgICAgICAgICAgICAgICBAZHJhd190ZXh0KHZhbHVlLCB0aGV0YSwgQG1fc2l6ZSwgMC44OSwgQGNvbG9yKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBkcmF3X3RpY2sodmFsdWUsIHRoZXRhLCAxLCAwLjg5LCBAY29sb3IpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBpZiBAZXZlbnRzICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgQGRyYXdfZXZlbnRzIEBldmVudHNcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgQGRyYXdfaGFuZChudW1Ib3VyLCBAaGFuZF9wcm9wc19ob3VyLCA1LCAwLjUsIEBjb2xvcilcbiAgICAgICAgQGRyYXdfaGFuZChudW1NaW51dGUsIEhhbmRQcm9wcy5taW51dGUsIDQsIDAuOCwgQGNvbG9yKVxuICAgICAgICBAZHJhd19oYW5kKHNlY29uZHMsIEhhbmRQcm9wcy5zZWNvbmQsIDMsIDAuOSwgQGNvbG9yX3NlY29uZClcbiAgICAgICAgXG4gICAgICAgIEByZXN0b3JlKClcbiAgICAgICAgcmV0dXJuXG4gICAgXG4gICAgc3RhcnQ6IC0+XG4gICAgICAgIHNldEludGVydmFsICgoKT0+XG4gICAgICAgICAgICBAZHJhd19zY2VuZSgpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgKSwgMTAwMFxuICAgICAgICByZXR1cm5cblxuIyAkKGRvY3VtZW50KS5yZWFkeSAtPlxuY2xvY2sgPSBuZXcgQ2xvY2tcbiAgICAgICAgIyBjYW52YXM6ICQoJyNjYW52YXMnKVswXVxuICAgICAgICAjIHBhcmVudDogJCgnLmNsb2NrcycpWzBdXG4gICAgICAgIGNvbG9yOiAnIzMzMydcbiAgICAgICAgZWZmZWN0X3dpZHRoOiAxXG4gICAgICAgIHVzZV8xMjogZmFsc2VcbiAgICAgICAgd2lkdGg6IDUwMFxuICAgICAgICBoZWlnaHQ6IDUwMFxuICAgICAgICBoX3NpemU6IDIyXG4gICAgICAgIG1fc2l6ZTogMTFcbiAgICAgICAgcGFsZXR0ZTogJ3N1bnNldDInXG4gICAgICAgICMgcGFsZXR0ZTogJ2JyaWdodGxhdmEnXG4gICAgICAgIGV2ZW50czogW1xuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBob3VyX3JhbmdlczpbWzgsIDEyXSxbMTMsIDE3XV0sIFxuICAgICAgICAgICAgICAgIGxldmVsOiAxLCBcbiAgICAgICAgICAgICAgICBjb2xvcl9pbmRleDogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBob3VyX3JhbmdlczpbWzExLCAxMl0sWzEzLCAyMF1dLCBcbiAgICAgICAgICAgICAgICBsZXZlbDogMiwgXG4gICAgICAgICAgICAgICAgY29sb3JfaW5kZXg6IDZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIGhvdXJfcmFuZ2VzOltbMjIsIDVdXSwgXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDMsIFxuICAgICAgICAgICAgICAgIGNvbG9yX2luZGV4OiA5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBob3VyX3JhbmdlczpbWzcuOSwgOV1dLCBcbiAgICAgICAgICAgICAgICBsZXZlbDogNCwgXG4gICAgICAgICAgICAgICAgY29sb3JfaW5kZXg6IDEyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICBcbmNsb2NrLnN0YXJ0KClcblxuIl19
//# sourceURL=coffeescript